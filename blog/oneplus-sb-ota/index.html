<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>发现个一加家挺sb的问题</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="https://www.chinuno.com/" rel="canonical" />

  <!-- Feed -->
        <link href="https://www.chinuno.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Gensokyo Full Atom Feed" />
          <link href="https://www.chinuno.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="Gensokyo Categories Atom Feed" />

  <link href="https://www.chinuno.com/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="https://www.chinuno.com/theme/css/code_blocks/monokai.css" rel="stylesheet">

    <!-- CSS specified by the user -->


    <link href="https://www.chinuno.com/assets/css/myblog.css" type="text/css" rel="stylesheet" />

  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link href="https://www.chinuno.com/blog/oneplus-sb-ota" rel="canonical" />

    <meta name="description" content="2年前入了个一加2手机，还写了篇博文评论了一番，到现在2年了还一直用的这个机子.不得不说确实是个耐艹的千元机，到现在摔了不下5、6次，却只有边框稍微凹陷一点而已。而之前用的诺基亚1520摔一次就屏幕全裂了「、...">

    <meta name="author" content="chinuno-usami">

    <meta name="tags" content="OTA">
    <meta name="tags" content="android">
    <meta name="tags" content="一加">




<!-- Open Graph -->
<meta property="og:site_name" content="Gensokyo"/>
<meta property="og:title" content="发现个一加家挺sb的问题"/>
<meta property="og:description" content="2年前入了个一加2手机，还写了篇博文评论了一番，到现在2年了还一直用的这个机子.不得不说确实是个耐艹的千元机，到现在摔了不下5、6次，却只有边框稍微凹陷一点而已。而之前用的诺基亚1520摔一次就屏幕全裂了「、..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.chinuno.com/blog/oneplus-sb-ota"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-11-13 00:24:06+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://www.chinuno.com/author/chinuno-usami">
<meta property="article:section" content="blog"/>
<meta property="article:tag" content="OTA"/>
<meta property="article:tag" content="android"/>
<meta property="article:tag" content="一加"/>
<meta property="og:image" content="https://www.chinuno.com/assets/images/cover/acg.gy_15.jpg">

<!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@chinuno_usami">
    <meta name="twitter:title" content="发现个一加家挺sb的问题">
    <meta name="twitter:url" content="https://www.chinuno.com/blog/oneplus-sb-ota">

        <meta name="twitter:image:src" content="https://www.chinuno.com/assets/images/cover/acg.gy_15.jpg">

      <meta name="twitter:description" content="2年前入了个一加2手机，还写了篇博文评论了一番，到现在2年了还一直用的这个机子.不得不说确实是个耐艹的千元机，到现在摔了不下5、6次，却只有边框稍微凹陷一点而已。而之前用的诺基亚1520摔一次就屏幕全裂了「、...">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "发现个一加家挺sb的问题",
  "headline": "发现个一加家挺sb的问题",
  "datePublished": "2017-11-13 00:24:06+08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "chinuno-usami",
    "url": "https://www.chinuno.com/author/chinuno-usami"
  },
  "image": "https://www.chinuno.com/assets/images/cover/acg.gy_15.jpg",
  "url": "https://www.chinuno.com/blog/oneplus-sb-ota",
  "description": "2年前入了个一加2手机，还写了篇博文评论了一番，到现在2年了还一直用的这个机子.不得不说确实是个耐艹的千元机，到现在摔了不下5、6次，却只有边框稍微凹陷一点而已。而之前用的诺基亚1520摔一次就屏幕全裂了「、..."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>
          <li><a href="archives.html" role="presentation">文章列表</a></li>
          <li><a href="tags.html" role="presentation">标签</a></li>

              <li role="presentation"><a href="https://www.chinuno.com/About">ABOUT</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="https://www.chinuno.com/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">发现个一加家挺sb的问题</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="https://www.chinuno.com/author/chinuno-usami">Chinuno Usami</a>
            | <time datetime="一 13 十一月 2017">一 13 十一月 2017</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('https://www.chinuno.com/assets/images/cover/acg.gy_15.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>2年前入了个一加2手机，还写了篇博文评论了一番，到现在2年了还一直用的这个机子.不得不说确实是个耐艹的千元机，到现在摔了不下5、6次，却只有边框稍微凹陷一点而已。而之前用的诺基亚1520摔一次就屏幕全裂了「、</p>
<p>机子刷成氧OS用了一年多，感觉一直挺好的。但是不知从什么时候开始系统的OTA更新总是更新失败。一加相比其他厂商挺好的，一加2一直到前几天还给推送了新的更新，虽然不说上奥利奥，连牛扎糖都吃不到，但是系统的bug一直都在修复，andoird的安全漏洞也一直有在补上。</p>
<p>因为OTA更新一直失败，所以有更新提示也基本上没去管了。昨天不知道怎么的突然想找找看到底是什么原因搞的不能更新，因为自从刷了氧OS之后root都没root了，连官方的recovery都没刷掉过，不至于突然就没法更新了。</p>
<p>于是还是Google上查了下，发现挺多人遇到同样的问题。而且全部都是android全盘加密后才出现的问题。之前把氢刷成氧就是因为氢一开加密系统就挂，才换成氧的，没想到换成氧后加密还是有坑。</p>
<p>手机的OTA更新会把更新包下载到内部存储中，然后再从revocery模式中加载更新包更新。虽然不清楚android的加密是否只加密/data分区。但是通过adb到手机中可以看到/data跟/sdcard确实是挂载的同一个分区。那么就能看出因为recovery的时候并没有对数据分区进行解密操作（这需要手动输入密码解密，看来是recovery一直是很早之前android还没这个特性的时候写的，也一直没给更新，所以也没让解密），那么recovery就加载不了更新包没法更新。网上找了一圈，有在讨论这个问题的几乎全是在说的一加手机。</p>
<p>既然没法通过手机自己更新，那么就只能不通过内部存储走usb线sideload更新了。OTA程序会将完整全量包都下载到内部存储中，于是adb pull把更新包先下载到电脑上，再刷回去了。虽然是2.0接口的，但是传输速度比想象中的慢得多，7m/s的速度花了好长时间才把1.2G的包传到电脑上。</p>
<p>重启到recovery通过sideload刷更新包。速度确实也很慢，花了快1h的时间。结果。进度到92%的时候。自行中断重启了。。在试了第二次情况一样后，上Google查了下。</p>
<p>不出所料，海外一加论坛也是大批的人出了这问题，sideload更新一到92%就崩，而且共同点：开启了android的加密功能。</p>
<p>到这里我已经懵逼了，因为失败现在手机已经无限开机时重启了。估计是因为更新脚本中有些操作需要读写到数据分区导致的更新失败。当时已经凌晨2点了，第二天还要上班。。如果数据全部清掉重刷系统应该是可以解决的，但是这些数据又很重要。就。很。完蛋。</p>
<p>最后手机还是救回来了。吧。幸好一加官网还给提供所有手机氧OS的全部历史包，尝试把原先版本的系统刷回去时也是92%就挂，但是估计是因为后面的操作一直都没成功过，所以遗留原先的部分跟刷完的版本正好对的上，所有机子可以成功开机运行了。仔细想想，或许OTA更新时更新程序事先把更新包拷出来了能够加载上，却因为92%时的操作失败才导致的问题？反正！这破系统我是不敢再更新了！</p>
<p>@</p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=发现个一加家挺sb的问题&amp;url=https://www.chinuno.com/blog/oneplus-sb-ota" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://www.chinuno.com/blog/oneplus-sb-ota" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=https://www.chinuno.com/blog/oneplus-sb-ota" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="https://www.chinuno.com/tag/ota">OTA</a><a href="https://www.chinuno.com/tag/android">android</a><a href="https://www.chinuno.com/tag/yi-jia">一加</a>                </aside>

                <div class="clear"></div>

                <aside class="post-author">


                        <figure class="post-author-avatar">
                            <img src="https://avatars0.githubusercontent.com/u/6437705?s=460&v=4" alt="Chinuno Usami" />
                        </figure>
                    <div class="post-author-bio">
                        <h4 class="post-author-name"><a href="https://www.chinuno.com/author/chinuno-usami">Chinuno Usami</a></h4>
                            <p class="post-author-about">什么都不懂的小学生一枚，Python/C/C++/Rust，Android开发,独立游戏开发者。ruby/nodejs/golang学习中。东方project，不定时补补番，不会画画。</p>
                            <span class="post-author-location"><i class="ic ic-location"></i> Gensokyo</span>
                            <span class="post-author-website"><a href="https://www.chinuno.com"><i class="ic ic-link"></i> Website</a></span>
                        <!-- Social linkes in alphabet order. -->
                            <span class="post-author-github"><a target="_blank" href="https://github.com/chinuno-usami"><i class="ic ic-link"></i> GitHub</a></span>
                    </div>
                    <div class="clear"></div>
                </aside>

                </section>

                <script type="text/javascript">
                    var disqus = 'gensokyo';
                    var disqus_shortname = 'gensokyo';
                    var disqus_identifier = '/blog/oneplus-sb-ota';
                    var disqus_url = 'https://www.chinuno.com/blog/oneplus-sb-ota';
                </script>
                <noscript>Please enable JavaScript to view the comments.</noscript>
                <section class="post-comments">
                        <a id="show-disqus" class="post-comments-activate" data-disqus-identifier="/blog/oneplus-sb-ota" >Show Comments</a>
                    <div id="disqus_thread"></div>
                </section>

                <aside class="post-nav">
                    <a class="post-nav-next" href="https://www.chinuno.com/blog/python-so">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-left"></i>
                                <h2 class="post-nav-title">python调用C++函数</h2>
                            <p class="post-nav-excerpt">其实。这个东西一年前就想记录下来了。就。现在才写。...</p>
                        </section>
                    </a>
                    <a class="post-nav-prev" href="https://www.chinuno.com/blog/graduation-project">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-right"></i>
                                <h2 class="post-nav-title">毕设终于结束了</h2>
                            <p class="post-nav-excerpt">到现在。除了剩下资料交一下，毕设基本上算是结束了。从一开始的这游戏能不能做完到现在一下子拿到了校级的优秀毕业设计，一直都在意料之外。一直到今天参加优辩才知道就算前两年上课都一...</p>
                        </section>
                    </a>
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">&copy; Published by <a href="https://github.com/chinuno-usami">Chinuno Usami</a>. 2019.</span>
          <span class="credits-software">All rights reserved q(≧▽≦q)</span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="https://www.chinuno.com/theme/js/script.js"></script>

<script type="text/javascript">
    var disqus_shortname = 'gensokyo';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>